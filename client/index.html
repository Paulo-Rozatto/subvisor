<!doctype html>
<html lang="pt">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Subvisor - Anotações</title>
        <link rel="shortcut icon" href="img/markinho16.png" type="image/png" />
        <link rel="stylesheet" href="style/style.scss" />
    </head>

    <body>
        <header>
            <section>
                <button class="btn" id="datasets-list-button">Arquivos</button>
                <button
                    class="btn"
                    id="add-class-button"
                    title="Adicionar classe"
                >
                    <i class="bi bi-bookmark-plus"></i>
                </button>

                <div>
                    <span
                        id="classes-wrapper"
                        title="Classe do objeto selecionado"
                    >
                        <i class="bi bi-bookmark"></i>
                        <span id="classes-display">default</span>
                        <i class="bi bi-chevron-down"></i>
                    </span>
                    <article class="custom-select hide" id="classes-select">
                        <section>
                            <i class="bi bi-search"></i>
                            <input
                                type="text"
                                class=""
                                id="class-search-input"
                                placeholder="Pesquisar"
                            />
                        </section>
                        <ul id="classes-options"></ul>
                    </article>
                </div>
            </section>
            <section>
                <button
                    class="btn btn-icon btn-selected"
                    id="tool-edit-button"
                    title="Editar polígonos"
                >
                    <i class="bi bi-arrows-move"></i>
                </button>

                <div class="btn-group">
                    <button
                        class="btn btn-icon"
                        id="tool-predict-button"
                        title="Prever anotações"
                    >
                        <i class="bi bi-magic"></i>
                    </button>
                    <div id="subtools-group" class="btn-offside hide">
                        <button
                            class="btn btn-selected btn-small btn-icon"
                            title="Prever anotações"
                            id="subtool-points"
                        >
                            <i class="bi bi-crosshair"></i>
                        </button>
                        <button
                            class="btn btn-small btn-icon"
                            title="Prever anotações"
                            id="subtool-box"
                        >
                            <i class="bi bi-bounding-box"></i>
                        </button>
                    </div>
                </div>
            </section>
            <section style="justify-content: end">
                <button class="btn" id="theme-button" title="Trocar tema">
                    <i class="bi bi-circle-half"></i>
                </button>
                <a class="btn" id="export-button" title="Exportar anotações">
                    <i class="bi bi-file-earmark-zip"></i
                ></a>
                <button
                    class="btn"
                    id="settings-button"
                    title="Mudar configurações da aplicação"
                >
                    <i class="bi bi-gear-fill"></i>
                </button>
            </section>
        </header>

        <article class="drop-zone hide">
            <h3>Solte a pasta aqui...</h3>
            <h5>(clique para fechar)</h5>
        </article>

        <article class="modal hide" id="info">
            <h2>Info</h2>

            <b>Criar e editar polígonos manualmente:</b>
            <p>
                Na barra superior, clique no botão com o ícone
                <u><i class="bi bi-arrows-move"></i></u>. Clique em um polígono
                existente para selecioná-lo e editá-lo, ou clique em qualquer
                outro lugar da tela para começar a criar um novo polígono.
            </p>

            <b
                >Criar e editar com inteligência artificial - Prompt de
                pontos:</b
            >
            <p>
                Na barra superior, clique no botão com o ícone
                <u><i class="bi bi-magic"></i></u> e depois no botão com o ícone
                <u><i class="bi bi-crosshair"></i></u>.
            </p>
            <p>
                Clique para adcionar ponto indica objeto e
                <u>CTRL + Clique</u> para adcionar ponto que indica fundo.
                Aperte <u>ENTER</u> para então prever a anotação.
            </p>

            <b>Criar e editar com inteligência artificial - Prompt de caixa:</b>
            <p>
                Na barra superior, clique no botão com o ícone
                <u><i class="bi bi-magic"></i></u> e depois no botão com o ícone
                <u><i class="bi bi-bounding-box"></i></u>.
            </p>
            <p>
                Clique e arraste para criar uma caixa ao redor do objeto que
                deseja segmentar. Aperte <u>ENTER</u> para então prever a
                anotação.
            </p>

            <b>Exportar anotações:</b>
            <p>
                Na barra superior, clique no botão com o ícone
                <u><i class="bi bi-box-arrow-in-right"></i></u>.
            </p>

            <b>Salvar alterações em uma imagem:</b>
            <p><u>CTRL + S</u></p>

            <b>Salvar alterações em todas imagens:</b>
            <p><u>CTRL + SHIFT + S</u></p>

            <b>Selectionar múltiplos pontos:</b>
            <p><u>CTRL + Clique</u> ou <u>SHIFT + Clique</u></p>

            <b>Desselecionar:</b>
            <p>Aperte <u>ESC</u></p>

            <b>Remover pontos:</b>
            <p>
                Selecione um ponto e aperte <u>DELETE</u> ou <u>BACKSPACE</u>.
            </p>

            <b>Fazer upload:</b>
            <p>
                Arraste a pasta que contém as imagens e xmls para qualquer lugar
                da janela.
            </p>

            <b>Trocar pontos:</b>
            <p>Selecione exatamente 2 pontos e aperte <u>T</u>.</p>
        </article>

        <article class="modal hide" id="settings">
            <h2>Configurações</h2>
            <form id="settings-form" class="form">
                <section class="slider">
                    <label for="opacity">Opacidade dos polígonos</label>
                    <input
                        type="range"
                        min="0.1"
                        max="1"
                        step="0.1"
                        class="input"
                        id="opacity"
                        list="zero-one-values"
                    />
                    <section class="tip">
                        <small>10%</small>
                        <small>100%</small>
                    </section>
                </section>
                <section class="slider">
                    <label for="max-zoom">Zoom máximo</label>
                    <input
                        type="range"
                        min="1"
                        max="10"
                        step="1"
                        class="input"
                        id="max-zoom"
                        list="one-ten-values"
                    />
                    <section class="tip">
                        <small>100%</small><small>1000%</small>
                    </section>
                </section>
                <section class="slider">
                    <label for="exchange">Taxa de incremento do zoom</label>
                    <input
                        type="range"
                        min="0.1"
                        max="1"
                        step="0.1"
                        class="input"
                        id="step-zoom"
                        list="zero-one-values"
                    />
                    <section class="tip">
                        <small>0.1</small>
                        <small>1</small>
                    </section>
                </section>

                <datalist id="one-ten-values">
                    <option value="1"></option>
                    <option value="2"></option>
                    <option value="3"></option>
                    <option value="4"></option>
                    <option value="5"></option>
                    <option value="6"></option>
                    <option value="7"></option>
                    <option value="8"></option>
                    <option value="9"></option>
                    <option value="10"></option>
                </datalist>

                <datalist id="zero-one-values">
                    <option value="0.1"></option>
                    <option value="0.2"></option>
                    <option value="0.3"></option>
                    <option value="0.4"></option>
                    <option value="0.5"></option>
                    <option value="0.6"></option>
                    <option value="0.7"></option>
                    <option value="0.8"></option>
                    <option value="0.9"></option>
                    <option value="1"></option>
                </datalist>
                <button class="btn" id="save-settings">Salvar</button>
            </form>
        </article>

        <article class="modal hide" id="datasets-modal">
            <h2>Datasets</h2>
            <small id="current-path"></small>
            <ul id="datasets-list"></ul>
            <div style="display: flex; gap: 10px;">
                <button class="btn" id="datasets-pick">Selecionar</button>
                <button class="btn" id="open-folder">
                    <i class="bi bi-folder-symlink"></i> Abrir localmente
                </button>
            </div>
        </article>

        <article class="modal hide" id="new-class-modal">
            <h2>Adicionar Classe</h2>
            <form class="form class-form">
                <span>
                    <label for="input-class-name">Nome da classe</label>
                    <input
                        type="text"
                        class="input"
                        id="input-class-name"
                        placeholder="ex.: foo"
                        required
                    />
                </span>

                <span>
                    <label for="input-point-limit">Limite de pontos</label>
                    <input
                        type="number"
                        class="input"
                        id="input-point-limit"
                        placeholder="opicional, ex.: 5"
                    />
                </span>

                <div class="inline" style="justify-content: center">
                    <span class="inline">
                        <label for="input-class-color">Cor:</label>
                        <input
                            type="color"
                            value="#FF00FF"
                            class="color-input"
                            id="input-class-color"
                            placeholder="ex.: #ff0 ou #ffff00"
                            required
                        /> </span
                    >&VerticalSeparator;
                    <span class="inline">
                        <label for="input-class-color">Enumerar:</label>
                        <input
                            type="checkbox"
                            id="check-enumerate"
                            class="check"
                        />
                    </span>
                </div>
                <button class="btn" id="save-new-class">Salvar</button>
            </form>
        </article>

        <main>
            <article class="display">
                <canvas id="canvas" tabindex="1"></canvas>
            </article>
            <aside>
                <section class="image-list"></section>
            </aside>
        </main>

        <footer>
            <article class="stats-bar">
                <section class="group left">
                    <span class="item text-highlight" title="Pasta atual">
                        <i class="bi bi-house"></i>
                        <span id="title">000</span>
                    </span>
                </section>
                <section class="group right">
                    <select
                        id="checkpoints"
                        title="Selecionar checkpoint"
                    ></select>
                    <span
                        id="reset-button"
                        class="item"
                        title="Zoom atual. Clique para resetar"
                    >
                        <i class="bi bi-search"></i>
                        <span id="current-zoom">100%</span>
                    </span>
                    <span
                        class="item"
                        title="Quantidade de pontos do objeto selecionado"
                    >
                        <i class="bi bi-bounding-box-circles"></i>
                        <span id="obj-length">000</span>
                    </span>
                    <span class="item" title="Tempo desde upload">
                        <i class="bi-alarm"></i>
                        <span id="timer">00:00</span>
                    </span>
                    <span id="info-button" class="item">
                        <i class="bi bi-info-circle"></i>
                    </span>
                </section>
            </article>
        </footer>
        <script type="module" src="src/index.js"></script>
    </body>
</html>
